# NemoViewer_c

–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏: –°–∞–π—Ç –Ω—É–∂–µ–Ω –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–∏ –æ–∫–µ–∞–Ω–∞ NEMO. –≠—Ç–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∏—Å—É–Ω–∫–∏ –∫–∞—Ä—Ç –≥–∏–¥—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≥—Ä–∞—Ñ–∏–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ —Å–æ–ª–µ–Ω–æ—Å—Ç–∏ –æ—Ç –≥–ª—É–±–∏–Ω—ã (TS –≥—Ä–∞—Ñ–∏–∫–∏) –∏ –≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ–∑—ã –ø–æ –≥–ª—É–±–∏–Ω–µ –æ—Ç —Ç–æ—á–∫–∏ –¥–æ —Ç–æ—á–∫–∏ –≤—ã–±–∏—Ä–∞–µ–º—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.  –ì–ª–∞–≤–Ω—ã–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ - –∫–æ–ª–ª–µ–≥–∏ –æ–∫–µ–∞–Ω–æ–ª–æ–≥–∏.
 –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ... –ù–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ–æ—Ä–º–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã, –ø—Ä–æ–µ–∫—Ü–∏–∏ –∫–∞—Ä—Ç—ã, –≥–ª—É–±–∏–Ω—ã, –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π —Ä–∏—Å—É–Ω–æ–∫ –∫–∞—Ä—Ç—ã, –∫–æ—Ç–æ—Ä—ã–π –ø–æ –∫–ª–∏–∫—É —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ–ª–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–ª–∏ –≤ —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω–æ–π –∫–∞—Ä—Ç—ã, –ø–æ –∫—É—Ä—Å–æ—Ä—É –º—ã—à–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã. –ü–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≥–∏–¥—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤–æ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–º –æ–∫–Ω–µ. –¢–∞–∫-–∂–µ –≤–æ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–º –æ–∫–Ω–µ –µ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è TS –ø—Ä–æ—Ñ–∏–ª—è –∏ –ø—Ä–æ—Ñ–∏–ª–µ–π –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ò–∑ —ç—Ç–æ–≥–æ –æ–∫–Ω–∞ –º–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑—Ä–µ–∑—ã. –†–∞–∑—Ä–∞–±–æ—Ç–∫—É –Ω—É–∂–Ω–æ –≤–µ—Å—Ç–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Genie.jl . 
 –ß—Ç–æ –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å:  –¥–æ–±–∞–≤–∏—Ç—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã–µ –ø–æ –∞–Ω–æ–º–∞–ª–∏—è–º, –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∫–∞—Ä—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –∏ –∞–Ω–æ–º–∞–ª–∏–π  –ò–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä—ã —ç—Ç–∏—Ö –∫–∞—Ä—Ç, –∏ –≤—ã—Ä–µ–∑–∞—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã.
 
–ë—ã–ª —Å–æ–∑–¥–∞–Ω –ø—Ä–æ–µ–∫—Ç —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

 NemoViewer/
‚îú‚îÄ‚îÄ app.jl
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.jl    		# –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database_functions.jl    	# —Ñ—É–Ω–∫—Ü–∏–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ routes/
‚îÇ       ‚îú‚îÄ‚îÄ main_routes.jl
‚îÇ	      ‚îú‚îÄ‚îÄjavascript_code.jl
‚îÇ	      ‚îú‚îÄ‚îÄhtml_templates.jl
‚îÇ	      ‚îú‚îÄ‚îÄcss_styles.jl
‚îÇ       ‚îî‚îÄ‚îÄ api_routes.jl
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ maps/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 2025-10-15/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ antarc_ice_000.png
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ antarc_ice_024.png
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ antarc_ice_anim.gif
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ arctic_ssh_000.png
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ... # –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ 2025-10-16/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ... # –¥—Ä—É–≥–∏–µ –¥–∞—Ç—ã
‚îî‚îÄ‚îÄ run.jl 

public/static/maps/2024-01-15/ –ì–¥–µ –∏–º—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è –¥–∞—Ç—ã. –§–∞–π–ª—ã –≤ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π —Ä–∏—Å—É–Ω–∫–∏ –∫–∞—Ä—Ç –≥–∏–¥—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ú–Ω–µ–º–æ–Ω–∏–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–∏—Å—É–Ω–∫–æ–≤ :
RRR_VVV_FFF.png –∏ RRR_VVV_anim.gif –≥–¥–µ
RRR = [antarc, arctic, wo],  # –ê–Ω—Ç–∞—Ä–∫—Ç–∏–∫–∞, –ê—Ä–∫—Ç–∏–∫–∞, –ú–∏—Ä–æ–≤–æ–π –æ–∫–µ–∞–Ω
VVV = [ice, mld, ssh, Sz0p5, Sz97, Sz1046, Tz0p5, Tz97, Tz1046, UVz0p5, UVz97, UVz1046], # –õ–µ–¥, –ü—Ä–µ–º–µ—à–∞–Ω–Ω—ã–π —Å–ª–æ–π, –£—Ä–æ–≤–µ–Ω—å –æ–∫–µ–∞–Ω–∞, –°–æ–ª–µ–Ω–æ—Å—Ç—å, –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –ú–æ–¥—É–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ç–µ—á–µ–Ω–∏–π. –ß–∏—Å–ª–∞ –≤ –∏–º–µ–Ω–∞—Ö - –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã –ø–æ –≥–ª—É–±–∏–Ω–µ
FFF = [000, 024, 048, ‚Ä¶, 240]. –í—Ä–µ–º—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –≤ —á–∞—Å–∞—Ö. 000 - –∞–Ω–∞–ª–∏–∑.
  –í –¥–∞–ª—å–Ω–µ–π—à–µ–º –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞—Ä—Ç—ã –∞–Ω–æ–º–∞–ª–∏–π. –ò—Ö –º–Ω–µ–º–æ–Ω–∏–∫–∞ –±—É–¥–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –Ω–∞–ª–∏—á–∏–µ–º "an" –≤ –Ω–∞—á–∞–ª–µ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞. 
üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –≤ —Å–µ–∫—Ü–∏–∏ (–ø–∞—Ä—Ç–∏—Ü–∏–∏) –ø–æ –¥–∞—Ç–µ.

CREATE TABLE IF NOT EXISTS public._nemo
(
    dat date,
    lon numeric(6,2),
    lat numeric(6,2),
    par jsonb,                    -- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –º–∞—Å—Å–∏–≤—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–º
    geom geometry(Point,4326),    -- –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å
    CONSTRAINT _nemo_dat_lon_lat_key UNIQUE (dat, lon, lat)
) PARTITION BY RANGE (dat);

-- –ü—Ä–∏–º–µ—Ä —Å–µ–∫—Ü–∏–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∞—Ç—ã:
-- CREATE TABLE "2025-12-11"."_nemo_2025-12-11" PARTITION OF public._nemo ...
–ü–æ–ª–µ par (JSONB): –°–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç—Ä–∞ –≥–ª—É–±–∏–Ω—ã. –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—è:

depth: –ì–ª—É–±–∏–Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞ (—Å–∫–∞–ª—è—Ä, –Ω–∞–ø—Ä., 0.51).

u, v: –ú–∞—Å—Å–∏–≤—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ç–µ—á–µ–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–∞–Ω–∞–ª–∏–∑ + –ø—Ä–æ–≥–Ω–æ–∑).

tw, s: –ú–∞—Å—Å–∏–≤—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ —Å–æ–ª–µ–Ω–æ—Å—Ç–∏.

iceconc, icethic, ssh, mld –∏ –¥—Ä. ‚Äî –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

–¢–∞–±–ª–∏—Ü—ã —Å –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:
CREATE TABLE vo(
    param varchar(10),
    month INTEGER,
    coor GEOMETRY(Point, 4326),
    min_clim REAL[],
    max_clim REAL[],
    clim REAL[],
    std_clim REAL[],
    UNIQUE(param, month, coor)  
)
  
  
  
